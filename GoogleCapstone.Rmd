---
title: 'Google Capstone Project: How Can Bellabeat ,A Wellness Technology Company
  Play  It Smart'
author: "Sandeep Singh"
date: "3/5/2022"
output:
  word_document: default
  pdf_document: default
  html_document: default
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Steps-1 : Ask
 We define the issue, the goals of our case study, and the intended result in this step.

#### 1.0 Background
Since 2013, Bellabeat has been a high-tech manufacturer of gorgeously crafted smart devices for women with a focus on their health. Bellabeat has quickly expanded and established itself as a tech-driven wellness brand for women by educating and empowering women with knowledge about their own health and habits.

Urka Sren, co-founder and chief creative officer, is sure that examination of non-Bellebeat customer data, such as usage data from FitBit fitness trackers, will find further development prospects.

#### 1.2 Business Task:
Examine FitBit fitness tracker data to learn how users interact with the FitBit app and identify trends for Bellabeat marketing strategy.

#### 1.3 Business Objectives:

 * What patterns have been found?
 * How might Bellabeat customers be affected by these trends?
 * How can these developments affect Bellabeat's marketing plan?
 
#### 1.4 Deliverables
 * A concise description of the business task
 * A list of all the data sources that were used, along with documentation of any data cleaning or manipulation, and a summary of the analysis
 * supporting images and important findings
 * Recommendations for high-level material based on the analysis
 
#### 1.5 Key Stakeholders
 * Bellabeat's cofounder and chief creative officer, Urka Sren
 * Mathematician, co-founder of Bellabeat, and essential member of the Bellabeat management team, Sando Mur
 * The Bellabeat analytics team for marketing: Data analysts overseeing Bellabeat's marketing plan.
 
### Steps-2 : Prepare
We identify the data being used and its constraints during the Prepare step.

#### Step 2.1 Information on Data Source:
 * 18 csv files containing data from the FitBit fitness tracker are freely accessible on Kaggle.
 * generated by survey participants using Amazon Mechanical Turk between March 12 and May 12, 2016.
 * 30 FitBit users gave their permission for personal tracker data to be submitted.
 * The information gathered includes minute-by-minute records of physical activity, heart rate, sleep patterns, daily activities, and steps.
 
#### 2.2 Limitation of Data Set
 * Data was gathered in 2016 five years ago. Since then, users' routines for everyday activity, eating, exercising, and sleeping may have changed. Data might    not be current or pertinent.
 * A sample size of 30 FitBit users does not accurately represent the fitness market as a whole.
 * We are unable to verify the integrity or correctness of the data because it is acquired through a survey.
 
#### 2.3 Is Data ROCCC?

A good data source is ROCCC which stands for Reliable, Original, Comprehensive, Current, and Cited.

 *  Reliable — LOW — Not reliable as it only has 30 respondents
 *  Original — LOW — Third party provider (Amazon Mechanical Turk)
 *  Comprehensive — MED — Parameters match most of Bellabeat products’ parameters
 *  Current — LOW — Data is 5 years old and may not be relevant
 *  Cited — LOW — Data collected from third party, hence unknown

Overall, the dataset is regarded as having low quality data, and it is not advised to base business suggestions on it.

#### 2.4 Data Selection
The next file is chosen and copied for examination.


#### 2.5 Tool
We are using R for data Cleaning ,transformation and Visualization

'dailyActivity_merged.csv'

### Step-3 Process
Here, we will process the data by cleaning it and making sure it is accurate, pertinent, comprehensive, free of error, and free of outliers by carrying out the following actions:

 * Examine and watch the data
 * Examine and deal with any missing or null values.
 * Data transformation: format the data type
 * Carrying out a preliminary statistical analysis


```{r warning=FALSE}
install.packages("Rtools", repos = "http://cran.us.r-project.org")
install.packages("tidyverse")
install.packages("plotrix", repos = "http://cran.us.r-project.org")
install.packages("treemap", repos = "http://cran.us.r-project.org")

```

#### 3.1 Preparing the Enviroment
The R libraries are installed. 
```{r warning=TRUE, include=FALSE}

library('tidyverse')
library('skimr')
library('janitor')
library('dplyr')
library('lubridate')
library('ggplot2')
library('treemap')

```
#### Importing data set 
```{r Importing Data, warning=FALSE}
library(readr)
dataset<- read_csv("dailyActivity_merged.csv")
```
#### 3.3 Cleaning and modifying data
 1 Observe and get acquainted with the data
 2 Verify any missing or empty values.
 3 Run a sanity check on the data.
##### Previewing using head function on  daily_activity to familiarise with the data
```{r}
head(dataset, 10)
```
#### Cleaning Column Names
```{r echo=TRUE}
dataset<-janitor::clean_names(dataset)
result<-data.frame(colnames(dataset))
result
```
#### Finding Out Basic Information of Data
No. of Rows and Columns
 * Columns Names
 * Non Null Count
 * Data Type
 
```{r}
non_null_count <- colSums(!is.na(dataset))
data_type <- sapply(dataset, class)
result <- data.frame(non_null_count, data_type)
result
```
####Finding Unique ID 
```{r}
unique_id<-unique(dataset$id)
unique_ct<-length(unique_id)
print(paste("Unique IDs:", unique_ct))
```
#### Finding Null and Missing Values
```{r}
result<-data.frame(colSums(is.na(dataset)))
result
```

#### From the Above observation , we noted that
 1. There Zero Null or Missing Values 
 2. Data has 15 Columns 940 Rows
 3. ActivityData is wrongly classified as Object dtype  and has to be converted into datatime64 dtype
 4. Instead of the predicted 30 unique IDs, there are 33 unique IDs. It's possible that some users made more IDs while the survey was being conducted.

Once the corrupt data has been located, we will manipulate or change the data.

 1.Activity Date should be changed to datatime64 dtype.
 2.Change Activity Date's format to yyyy-mm-dd.
 3.For additional research, create a new column called DayOfTheWeek by producing dates as days of the week.
 4.Adding the total of the VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes, and SedentaryMinutes columns will give you TotalMins.

By changing the new column TotalMins in number 4 to the number of hours, create a new column called TotalHours.
Rename and rearrange the columns.

Prior to converting ActivityDate to yyyy-mm-dd, we will first convert ActivityDate from an object to a datatime64 dtype.
Then we check to see whether ActivityDate has changed to yyyy-mm-dd and Datatime64 Dtype.

#### Converting *Activity Date*  to datetime64 and format to YYYY-MM-DD 
```{r}
View(dataset)
```
 
```{r}

dataset$activity_date <- as.Date(dataset$activity_date, format = "%m/%d/%Y")

```
### Reprint Information to confirm 
```{r}
data_type <- data.frame(sapply(dataset, class))
data_type
```

#### Creating new list 
```{r}
#Creating Seprate List for Activity Day 
activity_Day <- wday(dataset$activity_date, label=TRUE)
dataset['activity_Day']<-activity_Day

#Creating Seprate List for Total Activity Minutes
totactive_Minutes<-(dataset$very_active_minutes + dataset$fairly_active_minutes +dataset$lightly_active_minutes +dataset$sedentary_minutes)
dataset['totactive_Minutes']<-totactive_Minutes

#Creating Seprate List for Total Activity Hour
totactive_Hours<-ceiling((totactive_Minutes/60))
dataset['totactive_Hours']<-totactive_Hours

View(dataset)


```

#### Step-4 : Analyse
 4.1 Perform calculation

Pulling Calculation
1. Count - No. of Rows
2. Mean  - Average
3. Standard Deviation
4. Min and Max
5.Percentiles 25%, 50%, 75%

```{r}
summary(dataset)
```
Interpreting statistical findings:

1.Users registered 7,637 steps or 5.4 km on average, which is insufficient. According to the CDC, an adult female should strive to walk at least 10,000 steps, or 8 kilometres, each day to enhance her general health, lose weight, and increase her level of fitness. Source: An article from Medical News Today

2.The bulk of users register an average of 991 minutes, or 20 hours, which accounts for 81% of all average minutes.

3.Noting that 2,303 calories, or 0.6 pounds, are burnt on average every day. Could not go into detail because the number of calories expended depends on a number of variables, including age, weight, daily activities, exercise, hormones, and calorie consumption. Health Line article, source

#### STEP 5: Share 

Number of Times users logged in App Across the Week

```{r}
p <- ggplot(data = dataset) +
  geom_bar(mapping = aes(x = activity_Day, fill = activity_Day)) +
  coord_flip() +
  theme_classic() +
  labs(title = "Number of times users logged in app across the week",
       x = "Activity Day",
       y = "Frequency",
       fill = "Day of the week") +
  guides(fill = guide_legend(title = "Days of the week", ncol = 2))

p + theme(panel.grid.major = element_line(color = "grey"),
           panel.grid.minor = element_line(color = "lightgrey"))

```

```{r warning=FALSE}
#plotting scatter plot
median_calories = 2303
median_steps = 7637
ggplot(dataset, aes(x = total_steps, y = calories, color = calories)) +
geom_point(alpha = 0.8) +
scale_color_gradient(name = "Calories burned", low = "blue", high = "red",
breaks = seq(2000, 4000, by = 500)) +
geom_vline(xintercept = median_steps, color = "blue", linetype = "dashed",
size = 0.8) +
geom_hline(yintercept = median_calories, color = "red", linetype = "dashed",
size = 0.8) +
labs(x = "Steps taken", y = "Calories burned",
title = "Calories burned for every step taken") +
theme_classic() +
theme(legend.position = "right")

```
```{r}
p <- ggplot(data = dataset)
p + geom_point(mapping = aes(x = totactive_Hours,y=calories, color = calories)) +
   scale_color_gradient(low = "blue", high = "red") +
   labs(title="Calories burned for every hours logged", x = "Total Hours Logged ", y="Calories burned")
```


```{r}
value<-c(sum(dataset$lightly_active_minutes) , sum(dataset$fairly_active_minutes), sum(dataset$very_active_minutes), sum(dataset$sedentary_minutes))
group <- c(" Light active minutes" ,"Fairly active minutes" , "Very active minutes" , "Sedentary minutes")
activity_data <- data.frame(group,value) 
treemap( activity_data,
        index="group",
        vSize = "value",
        type = "index",
        title="Percentage of Activity"
        )
```


```{r}
value<-c(sum(dataset$lightly_active_minutes) , sum(dataset$fairly_active_minutes), sum(dataset$very_active_minutes), sum(dataset$sedentary_minutes))
group <- c(" Light active minutes" ,"Fairly active minutes" , "Very active minutes" , "Sedentary minutes")
activity_data <- data.frame(group,value) 
treemap( activity_data,
        index="group",
        vSize = "value",
        type = "index",
        title="Percentage of Activity"
        )
```


```{r}
```

#### Step 6 Act
At the final phase, we will explain our findings and offer suggestions based on our study.
Here, we go by our corporation queries once more and offer our top corporate suggestions to you

1. What patterns have been found?

The majority of users (nearly 80%)only use the FitBit app to monitor inactive activities rather than their daily exercise routines.
Users prefer to keep track of their activities throughout the week as opposed to the weekend, possibly since they spend more time outdoors during the week and more time home during the weekend.


2. How may Bellabeat customers be affected by these trends?

Both businesses create goods that encourage women to understand their existing habits and make healthy decisions by giving them information on their habits, fitness, and health. Customers of Bellabeat may very well apply these general trends in health and fitness.

3. How will these trends affect Bellabeat's marketing plan?

The Bellabeat marketing team can encourage users by illuminating and empowering them with knowledge about the benefits of fitness, recommending diverse types of exercises (for example, a straightforward 10 minute exercise on weekdays and a more intense exercise on weekends), and providing information on calorie intake and burn rate on the Bellabeat app.

The Bellabeat app can also send out notifications on the weekends to urge users to work out.







